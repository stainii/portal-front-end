<h1 mat-dialog-title>{{taskTemplate ? taskTemplate.name : 'New task'}}</h1>
<div mat-dialog-content>
    <mat-vertical-stepper>
        <mat-step [completed]="taskTemplate.name!!">
            <ng-template matStepLabel>Name of the template?</ng-template>
            <mat-form-field>
                <input matInput [(ngModel)]="taskTemplate.name">
            </mat-form-field>
        </mat-step>
        <mat-step [completed]="taskTemplate.context!!">
            <ng-template matStepLabel>What is the context?</ng-template>
            <mat-form-field>
                <input matInput [(ngModel)]="taskTemplate.context">
            </mat-form-field>
        </mat-step>
        <mat-step [completed]="taskTemplate.deviationOfTheMainTaskStartDateTime!!">
            <ng-template *ngIf="!(isHandset$ | async)"
                         matStepLabel>
                How many days should the start date deviate from the main task's start date?
            </ng-template>
            <ng-template *ngIf="isHandset$ | async"
                         matStepLabel>
                Start date deviation?
            </ng-template>
            <mat-form-field>
                <input matInput type="number" [(ngModel)]="taskTemplate.deviationOfTheMainTaskStartDateTime">
            </mat-form-field>
            <span> days</span>
        </mat-step>
        <mat-step [completed]="taskTemplate.deviationOfTheMainTaskDueDateTime!!">
            <ng-template *ngIf="!(isHandset$ | async)"
                         matStepLabel>
                How many days should the due date deviate from the main task's due date?
            </ng-template>
            <ng-template *ngIf="isHandset$ | async"
                         matStepLabel>
                Due date deviation?
            </ng-template>
            <mat-form-field>
                <input matInput type="number" [(ngModel)]="taskTemplate.deviationOfTheMainTaskDueDateTime">
            </mat-form-field>
            <span> days</span>
        </mat-step>
        <mat-step [completed]="taskTemplate.expectedDurationInHours!!">
            <ng-template matStepLabel>How long will it take?</ng-template>
            <mat-form-field>
                <input matInput type="number" [(ngModel)]="taskTemplate.expectedDurationInHours">
            </mat-form-field>
            <span> hours</span>
        </mat-step>
        <mat-step [completed]="taskTemplate.importance!!">
            <ng-template matStepLabel>How important is the task?</ng-template>
            <mat-form-field>
                <mat-select [(ngModel)]="taskTemplate.importance">
                    <mat-option>None</mat-option>
                    <mat-option value="I_DO_NOT_REALLY_CARE">I do not really care</mat-option>
                    <mat-option value="NOT_SO_IMPORTANT">Not so important</mat-option>
                    <mat-option value="VERY_IMPORTANT">Very important</mat-option>
                </mat-select>
            </mat-form-field>
        </mat-step>
        <mat-step [completed]="taskTemplate.description!!">
            <ng-template matStepLabel>Extra information?</ng-template>
            <mat-form-field>
                <textarea matInput placeholder="What needs to be done, in detail?" [(ngModel)]="taskTemplate.description"></textarea>
            </mat-form-field>
        </mat-step>
    </mat-vertical-stepper>
</div>
<div class="mat-dialog-actions">
    <button mat-button
            (click)="close()">No Thanks</button>
    <button mat-flat-button
            class="mat-primary"
            (click)="saveAndClose()">Save</button>
</div>
